<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Niki's Personality</title>
  <!-- Importing elegant fonts: Playfair Display for headings, Inter for body and lists -->
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Inter:wght@400;600;700&display=swap"
    rel="stylesheet">
  <style>
    /* --- Global Reset & Core Styles --- */
    /* Universal box-sizing for consistent layout */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    /* Body styles: Full viewport height, subtle gradient, sophisticated color palette, and default font */
    body {
      font-family: 'Inter', sans-serif;
      /* Clean, modern sans-serif for body text */
      background: linear-gradient(145deg, #f8faff, #eef2f9);
      /* Very soft, cool blue-grey gradient, more ethereal */
      color: #333a4a;
      /* Dark charcoal blue for primary text */
      min-height: 100vh;
      line-height: 1.6;
      overflow-x: hidden;
      /* Prevent horizontal scroll for cleaner layout */
      -webkit-font-smoothing: antialiased;
      /* Smoother font rendering */
      -moz-osx-font-smoothing: grayscale;
      /* Smoother font rendering */
    }

    /* --- Header Section --- */
    header {
      background: linear-gradient(90deg, #8e7cc3, #b1a6e0);
      /* Softer, more muted royal purple to lavender gradient */
      color: #ffffff;
      /* White text for strong contrast */
      padding: 2.5rem 1.5rem 2rem;
      text-align: center;
      font-size: 2.8rem;
      /* Larger, more impactful font size */
      font-weight: 900;
      /* Extra bold for prominence */
      box-shadow: 0 8px 20px rgba(142, 124, 195, 0.3);
      /* Soft, diffused purple shadow matching new gradient */
      user-select: none;
      /* Prevent text selection */
      font-family: 'Playfair Display', serif;
      /* Elegant serif font for header */
      letter-spacing: 0.03em;
      /* Subtle letter spacing for elegance */
    }

    /* --- Navigation Bar --- */
    nav {
      background: #ffffff;
      /* Clean white background */
      display: flex;
      justify-content: center;
      gap: 2.5rem;
      /* Increased spacing between links */
      padding: 1.2rem 0;
      box-shadow: 0 4px 15px rgba(176, 218, 255, 0.4);
      /* Softer, broader shadow */
      border-bottom: 1px solid #e0e7f5;
      /* Subtle bottom border */
    }

    nav a {
      font-family: 'Inter', sans-serif;
      /* Consistent font for navigation */
      font-weight: 600;
      /* Semi-bold */
      color: #7a63c4;
      /* Softer deep purple color */
      text-decoration: none;
      font-size: 1.15rem;
      /* Slightly larger font size */
      padding: 0.6rem 1.2rem;
      border-radius: 20px;
      /* More rounded pill shape */
      transition: all 0.3s ease-in-out;
      /* Smooth transition for all properties */
      letter-spacing: 0.02em;
      /* Subtle letter spacing */
    }

    nav a:hover,
    nav a.active {
      background: #9b8edc;
      /* Lighter, softer purple from header gradient on hover */
      color: white;
      transform: translateY(-3px);
      /* Subtle lift effect */
      box-shadow: 0 5px 12px rgba(155, 142, 220, 0.4);
      /* Matching shadow on hover */
    }

    /* --- Main Content Grid Layout --- */
    main {
      max-width: 1300px;
      /* Wider max-width for more spacious layout */
      margin: 4rem auto 6rem;
      /* Increased top/bottom margins */
      padding: 0 2rem;
      /* More horizontal padding */
      display: grid;
      /* Responsive grid: columns adjust automatically, min size 300px, max 1fr */
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 3rem;
      /* Increased gap between cards */
    }

    /* --- Individual Card Styles --- */
    .card {
      background: #ffffff;
      /* Clean white background for cards */
      border-radius: 25px;
      /* More pronounced rounded corners */
      box-shadow: 0 15px 40px rgba(142, 124, 195, 0.1);
      /* Soft, diffused purple shadow */
      padding: 2.5rem 2.5rem;
      /* Generous padding */
      display: flex;
      flex-direction: column;
      /* Smooth transitions for hover effects */
      transition: transform 0.4s cubic-bezier(0.2, 0.8, 0.2, 1), box-shadow 0.4s ease-in-out;
      border: 1px solid #eef2f9;
      /* Very subtle light border matching new background */

      /* Initial state for card entrance animation */
      opacity: 0;
      transform: translateY(50px);
      transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    /* Class added by JS when card is visible */
    .card.card-visible {
      opacity: 1;
      transform: translateY(0);
      /* Staggered delay for sequential appearance */
      transition-delay: var(--card-delay, 0s);
    }


    .card:hover {
      transform: translateY(-12px);
      /* More significant lift on hover */
      box-shadow: 0 25px 55px rgba(142, 124, 195, 0.25);
      /* Stronger, more diffused shadow */
    }

    .card h2 {
      font-family: 'Playfair Display', serif;
      /* Elegant serif for card titles */
      font-size: 2.1rem;
      /* Larger card title font size */
      color: #7a63c4;
      /* Softer deep purple color for titles */
      margin-bottom: 1.5rem;
      /* More space below title */
      font-weight: 700;
      display: flex;
      align-items: center;
      line-height: 1.2;
      text-shadow: 0 1px 3px rgba(0, 0, 0, 0.03);
      /* Even more subtle text shadow */
    }

    .card h2 .icon {
      margin-right: 1.2rem;
      /* Increased spacing for icon */
      font-size: 2.4rem;
      /* Larger icon size */
      color: #9b8edc;
      /* Lighter, softer purple for icon */
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.08);
      /* Subtle shadow for icons */
    }

    /* List styling inside cards */
    .card ul {
      list-style: none;
      /* Remove default list styling */
      padding-left: 0;
      flex-grow: 1;
      /* Allows lists to expand and push content down */
    }

    .card ul li {
      font-family: 'Inter', sans-serif;
      /* Consistent font for list items */
      font-size: 1.15rem;
      /* Slightly larger list item font */
      color: #444a5b;
      /* Slightly darker text for contrast */
      padding: 0.9rem 0;
      border-bottom: 1px dashed rgba(142, 124, 195, 0.1);
      /* Soft, transparent dashed border using new purple */
      display: flex;
      align-items: flex-start;
      /* Align items to start if text wraps */
      transition: background-color 0.2s ease;
    }

    .card ul li:last-child {
      border-bottom: none;
      /* No border for the last item */
    }

    .card ul li:hover {
      background-color: #fcfdff;
      /* Very subtle light background on hover */
    }

    .card ul strong {
      color: #9b8edc;
      /* Lighter, softer purple for emphasized text */
      min-width: 150px;
      /* Wider min-width for labels */
      display: inline-block;
      font-weight: 600;
      /* Semi-bold for labels */
      margin-right: 0.8rem;
      /* Space between label and value */
    }

    .card ul span {
      flex-grow: 1;
      /* Allow content to take remaining space */
    }

    /* Special "About Her" card - spans full width */
    #about-her-card {
      grid-column: 1 / -1;
      /* Make this card span full width in the grid */
      text-align: center;
      padding: 3.5rem 3rem;
      /* More padding for prominent card */
    }

    #about-her-card h2 {
      font-size: 2.8rem;
      /* Larger title for the main introductory card */
      margin-bottom: 1.5rem;
      justify-content: center;
      /* Center icon and text */
    }

    #about-her-card p {
      font-family: 'Inter', sans-serif;
      font-size: 1.25rem;
      /* Larger body text for the intro */
      color: #555e6c;
      /* Slightly darker body text */
      line-height: 1.8;
      max-width: 800px;
      /* Constrain text width for readability */
      margin: 0 auto;
      /* Center paragraph */
    }

    /* --- Interactive Elements Specific Styles --- */

    /* Hidden Gem Card */
    #hidden-gems-card {
      grid-column: 1 / -1;
      /* Make this card span full width */
    }

    #hidden-gems-card .fact-display {
      font-size: 1.1rem;
      color: #555e6c;
      min-height: 80px;
      /* Ensure space for facts */
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      transition: opacity 0.4s ease-in-out;
      padding: 1rem 0;
    }

    #hidden-gems-card .btn-reveal {
      font-family: 'Inter', sans-serif;
      font-weight: 600;
      font-size: 1rem;
      padding: 0.8rem 1.5rem;
      margin-top: 1.5rem;
      background: linear-gradient(135deg, #a797e8, #b09ee8);
      /* Soft purple gradient */
      color: white;
      border: none;
      border-radius: 20px;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(167, 151, 232, 0.3);
      transition: all 0.3s ease;
      display: block;
      /* Make it a block element to center with margin auto */
      margin-left: auto;
      margin-right: auto;
    }

    #hidden-gems-card .btn-reveal:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(167, 151, 232, 0.4);
    }

    /* Mood Board Card */
    #mood-board-card .mood-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      /* 2 columns for emojis and counts */
      gap: 1.5rem;
      padding: 1rem 0;
    }

    .mood-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
      background-color: #f7f9ff;
      /* Light background for mood items */
      border-radius: 15px;
      padding: 1rem;
      transition: background-color 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;
      cursor: pointer;
      border: 1px solid #eef2f9;
      /* Softer border */
    }

    .mood-item:hover {
      background-color: #eaf1ff;
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(142, 124, 195, 0.1);
    }

    .mood-item.clicked-effect {
      animation: pop 0.2s ease-out;
      /* Pop animation on click */
    }

    @keyframes pop {
      0% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.1);
      }

      100% {
        transform: scale(1);
      }
    }

    .mood-emoji {
      font-size: 2.5rem;
      /* Larger emojis */
      line-height: 1;
      /* Remove extra space around emoji */
    }

    .mood-count {
      font-family: 'Inter', sans-serif;
      font-size: 1.1rem;
      font-weight: 700;
      color: #7a63c4;
      /* Softer purple count text */
      background-color: #f0f4ff;
      /* Light background for count */
      border-radius: 8px;
      padding: 0.3rem 0.6rem;
      min-width: 40px;
      /* Ensure consistent width */
      text-align: center;
    }


    /* --- Responsive Design Adjustments --- */
    @media (max-width: 1024px) {
      main {
        padding: 0 1.5rem;
        gap: 2.5rem;
      }

      .card {
        padding: 2rem 2rem;
      }

      .card h2 {
        font-size: 1.9rem;
      }

      .card h2 .icon {
        font-size: 2.2rem;
      }

      .card ul li {
        font-size: 1.1rem;
      }
    }

    @media (max-width: 768px) {
      header {
        font-size: 2.2rem;
        padding: 2rem 1rem 1.5rem;
      }

      nav {
        gap: 1.5rem;
        padding: 0.8rem 0;
      }

      nav a {
        font-size: 1rem;
        padding: 0.5rem 1rem;
      }

      main {
        margin: 3rem auto 4rem;
        gap: 2rem;
        padding: 0 1rem;
        /* Adjust grid to single column on smaller screens if minmax isn't enough */
        grid-template-columns: 1fr;
      }

      .card {
        padding: 1.8rem 1.8rem;
        border-radius: 20px;
      }

      .card h2 {
        font-size: 1.7rem;
        margin-bottom: 1rem;
      }

      .card h2 .icon {
        font-size: 2rem;
        margin-right: 1rem;
      }

      .card ul li {
        font-size: 1rem;
        padding: 0.6rem 0;
      }

      .card ul strong {
        min-width: 100px;
        margin-right: 0.5rem;
      }

      #about-her-card {
        padding: 2.5rem 2rem;
      }

      #about-her-card h2 {
        font-size: 2.2rem;
      }

      #about-her-card p {
        font-size: 1.1rem;
      }

      #mood-board-card .mood-grid {
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        /* More flexible on small screens */
      }

      .mood-item {
        flex-direction: column;
        /* Keep column layout for mood items on mobile */
        justify-content: center;
        /* Center content vertically */
        padding: 0.8rem;
        min-width: 100px;
      }

      .mood-emoji {
        font-size: 2rem;
      }

      .mood-count {
        padding: 0.2rem 0.5rem;
      }
    }

    @media (max-width: 480px) {
      header {
        font-size: 1.8rem;
        padding: 1.5rem 0.8rem;
      }

      nav {
        flex-wrap: wrap;
        gap: 1rem;
        padding: 0.6rem;
      }

      nav a {
        font-size: 0.9rem;
        padding: 0.4rem 0.8rem;
      }

      main {
        margin: 2rem auto 3rem;
        gap: 1.5rem;
        padding: 0 0.8rem;
      }

      .card {
        padding: 1.5rem 1.5rem;
        border-radius: 15px;
      }

      .card h2 {
        font-size: 1.5rem;
        flex-direction: column;
        /* Stack icon and text */
        align-items: flex-start;
        margin-bottom: 0.8rem;
      }

      .card h2 .icon {
        margin-right: 0;
        margin-bottom: 0.5rem;
        /* Space between stacked icon and text */
      }

      .card ul li {
        font-size: 0.95rem;
        flex-direction: column;
        /* Stack strong and span on very small screens */
        align-items: flex-start;
      }

      .card ul strong {
        min-width: unset;
        /* Remove min-width when stacking */
        margin-right: 0;
        margin-bottom: 0.2rem;
        /* Space between stacked label and value */
      }

      #about-her-card {
        padding: 2rem 1.5rem;
      }

      #about-her-card h2 {
        font-size: 1.8rem;
      }

      #about-her-card p {
        font-size: 1rem;
      }

      .mood-item {
        padding: 0.6rem 1rem;
      }

      .mood-emoji {
        font-size: 1.8rem;
      }

      .mood-count {
        font-size: 1rem;
        padding: 0.2rem 0.4rem;
      }
    }
  </style>
</head>

<body>
  <!-- Main Header for the page -->
  <header>All About Niki üíú</header>

  <!-- Navigation Bar -->
  <nav>
    <a href="#" class="active">Niki's World ‚ú®</a>
    <a href="index.html">Home üè†</a>
    <!-- More navigation links can be added here -->
  </nav>

  <!-- Main Content Area organized in a grid -->
  <main>
    <!-- Introductory Card about Niki -->
    <section class="card" id="about-her-card">
      <h2><span class="icon">üåü</span>The One and Only Niki<span class="icon">üåü</span></h2>
      <p>
        Welcome to the enchanting world of Niki! This page delves into the multifaceted personality of an
        extraordinary individual. From her cherished quirks to her grandest dreams,
        each detail paints a vibrant picture of the amazing person she is. Explore
        what truly makes her shine so brightly!
      </p>
    </section>

    <!-- About Her Personal Details Card -->
    <section class="card" id="about-her">
      <h2><span class="icon">‚ú®</span>Her Essentials</h2>
      <ul>
        <li><strong>Age:</strong><span>18</span></li>
        <li><strong>Height:</strong><span>5'2 2/3"</span></li>
        <li><strong>Zodiac:</strong><span>Aquarius</span></li>
        <li><strong>Personality:</strong><span>Goofy, Witty, Caring</span></li>
        <li><strong>Ambition:</strong><span>Rich Rich (and thriving!)</span></li>
        <li><strong>Vibe:</strong><span>Effortlessly Chic & Cozy</span></li>
      </ul>
    </section>

    <!-- Her Favorites Card -->
    <section class="card" id="her-favorites">
      <h2><span class="icon">üíñ</span>Her Heart's Desires</h2>
      <ul>
        <li><strong>Cuisine:</strong><span>Momos (always!)</span></li>
        <li><strong>Color:</strong><span>Lavender & Pastel Palette</span></li>
        <li><strong>Comfort Show:</strong><span>Friends</span></li>
        <li><strong>Song:</strong><span>"Perfect" By Ed Sheeran</span></li>
        <li><strong>Flower:</strong><span>Pink Lilies</span></li>
        <li><strong>First Fav Book:</strong><span>Thea Stilton Series</span></li>
      </ul>
    </section>

    <!-- Niki's Mood Board Card (New Interactive Feature) -->
    <section class="card" id="mood-board-card">
      <h2><span class="icon">üåà</span>Niki's Mood Board</h2>
      <p style="text-align: center; font-size: 0.95rem; color: #777;">Click an emoji to add to the tally!</p>
      <div class="mood-grid">
        <div class="mood-item" data-mood="happy">
          <span class="mood-emoji">üòä</span>
          <span class="mood-count" id="mood-count-happy">0</span>
        </div>
        <div class="mood-item" data-mood="sleepy">
          <span class="mood-emoji">üò¥</span>
          <span class="mood-count" id="mood-count-sleepy">0</span>
        </div>
        <div class="mood-item" data-mood="sassy">
          <span class="mood-emoji">üíÖ</span>
          <span class="mood-count" id="mood-count-sassy">0</span>
        </div>
        <div class="mood-item" data-mood="chill">
          <span class="mood-emoji">üòå</span>
          <span class="mood-count" id="mood-count-chill">0</span>
        </div>
        <div class="mood-item" data-mood="goofy">
          <span class="mood-emoji">ü§™</span>
          <span class="mood-count" id="mood-count-goofy">0</span>
        </div>
        <div class="mood-item" data-mood="curious">
          <span class="mood-emoji">üßê</span>
          <span class="mood-count" id="mood-count-curious">0</span>
        </div>
        <div class="mood-item" data-mood="amazed">
          <span class="mood-emoji">üòû </span>
          <span class="mood-count" id="mood-count-amazed">0</span>
        </div>
        <div class="mood-item" data-mood="mischievous">
          <span class="mood-emoji">üòà</span>
          <span class="mood-count" id="mood-count-mischievous">0</span>
        </div>
        <div class="mood-item" data-mood="sparkly">
          <span class="mood-emoji">‚ú®</span>
          <span class="mood-count" id="mood-count-sparkly">0</span>
        </div>
        <div class="mood-item" data-mood="thoughtful">
          <span class="mood-emoji">ü§î</span>
          <span class="mood-count" id="mood-count-thoughtful">0</span>
        </div>
      </div>
    </section>

    <!-- Things She Absolutely Loves Card -->
    <section class="card" id="her-loves">
      <h2><span class="icon">üíå</span>She Absolutely Adores...</h2>
      <ul>
        <li>Cozy nights/crime documentary</li>
        <li>The serene scent of rain on a warm</li>
        <li>Discovering that perfect vintage, elegant dress</li>
        <li>cute, fluffy animals (especially racoons)</li>
        <li>Home comfort over going out</li>
        <li>Gossip and Tea</li>
      </ul>
    </section>

    <!-- Her Unique Style Card -->
    <section class="card" id="her-style">
      <h2><span class="icon">üëó</span>Her Distinct Flair</h2>
      <ul>
        <li><strong>Fashion Sense:</strong><span>Elegant Old Money Aesthetic</span></li>
        <li><strong>Overall Aesthetic:</strong><span>Pinterest-perfect, Girly-Girl Chic</span></li>
        <li><strong>Top Hobbies:</strong><span>Shooting, Annoying, Sleeping</span></li>
        <li><strong>Signature Drink:</strong><span>BF's Blood </span></li>
      </ul>
    </section>

    <!-- Things She Can't Live Without Card -->
    <section class="card" id="her-essentials">
      <h2><span class="icon">üîë</span>Can't Live Without...</h2>
      <ul>
        <li>Boyfriend</li>
        <li> Momos</li>
        <li>Besties</li>
        <li>Books</li>
        <li>Crime Series</li>
        <li>sleep</li>
        <li>Tea</li>
      </ul>
    </section>

    <!-- Things She Dislikes Card -->
    <section class="card" id="her-dislikes">
      <h2><span class="icon">üö´</span>Her Pet Peeves</h2>
      <ul>
        <li>Spiders (definitely not a fan!)</li>
        <li>Narcissistic or Misogynistic attitudes</li>
        <li>Overly aggressive or noisy environments</li>
        <li>Disrespectful behavior</li>
        <li>Unnecessary drama</li>
        <li>Untidiness</li>
        <li>MultiKid Parents</li>
        <li>Teenage kids lol</li>
      </ul>
    </section>

    <!-- Placeholder for more sections, demonstrating scalability -->
    <section class="card" id="her-aspirations">
      <h2><span class="icon">üöÄ</span>Her Aspirations</h2>
      <ul>
        <li><strong>Future Goal:</strong><span>To Live a Peaceful life lol</span></li>
        <li><strong>Dream Career:</strong><span>Making a significant positive impact in her field</span></li>
        <li><strong>Personal Growth:</strong><span>Learning from Boyfriend</span></li>
        <li><strong>Legacy:</strong><span>To be remembered for death of her bf</span></li>
      </ul>
    </section>

    <section class="card" id="her-quirks">
      <h2><span class="icon">üôÉ</span>Unique Quirks</h2>
      <ul>
        <li>Most Mature Decisions when she takes one (rest is stupid and dumb af)</li>
        <li>Never compromises to annoy everyone</li>
        <li>Loves collecting idk whatever she gets</li>
        <li>Can fall anytime,anywhere without a reason while being healthy</li>
      </ul>
    </section>

    <!-- Hidden Gems Card (Moved to bottom and made wide) -->
    <section class="card" id="hidden-gems-card">
      <h2><span class="icon">üíé</span>Hidden Gems</h2>
      <p class="fact-display" id="fun-fact-display">Click below to reveal a fun fact about Niki!</p>
      <button class="btn-reveal" id="reveal-fact-btn">Reveal Fact</button>
    </section>

  </main>

  <script>
    // --- DATA FOR INTERACTIVE SECTIONS ---

    // Hidden Gems (Fun Facts) Data
    const funFacts = [
      "Doesn't Shower for a Minimum of 2 Weeks",
      "Completes huge ass books in 3 hrs ;-;",
      "Can actually molest the male gender",
      "Bro even remebers clothes from her fav series",
      "If she cries give her momos and run away",
      "Stay away if she's laughing for no reason",
      "DO NOT DEBATE , I REPEAT - DO NOT DEBATE",
      "Needs more care than a baby, can die anytime",
      "sleeps without a pillow :/",
      "carries a knife you never know..",
    ];

    // Mood Board Tally Data (initial state) - Now loaded from localStorage
    let moodCounts = {
      happy: 0,
      sleepy: 0,
      sassy: 0,
      chill: 0,
      goofy: 0,
      curious: 0,
      amazed: 0,
      mischievous: 0, // The "18+" subtle hint
      sparkly: 0,
      thoughtful: 0
    };

    // --- HELPER FUNCTIONS ---

    /**
     * Randomly shuffles an array.
     * @param {Array} array The array to shuffle.
     * @returns {Array} The shuffled array.
     */
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    // --- HIDDEN GEMS (FUN FACTS) LOGIC ---
    const funFactDisplay = document.getElementById('fun-fact-display');
    const revealFactBtn = document.getElementById('reveal-fact-btn');
    let lastFactIndex = -1;

    /**
     * Reveals a random fun fact about Niki.
     */
    function revealFunFact() {
      funFactDisplay.style.opacity = '0'; // Start fade-out

      setTimeout(() => {
        let newFactIndex;
        do {
          newFactIndex = Math.floor(Math.random() * funFacts.length);
        } while (newFactIndex === lastFactIndex && funFacts.length > 1); // Ensure different fact if more than one

        lastFactIndex = newFactIndex;
        funFactDisplay.textContent = funFacts[newFactIndex];
        funFactDisplay.style.opacity = '1'; // Fade-in new fact
      }, 400); // Matches CSS transition duration
    }

    // --- NIKI'S MOOD BOARD LOGIC ---
    const moodItems = document.querySelectorAll('.mood-item');
    const MOOD_STORAGE_KEY = 'nikiMoodCounts'; // Key for localStorage

    /**
     * Loads mood counts from localStorage, or initializes if no data is found.
     */
    function loadMoodCounts() {
      const storedCounts = localStorage.getItem(MOOD_STORAGE_KEY);
      if (storedCounts) {
        try {
          // Parse stored counts. If it's an object, merge with default.
          const parsedCounts = JSON.parse(storedCounts);
          if (typeof parsedCounts === 'object' && parsedCounts !== null) {
            // Iterate over default moodCounts keys to ensure all are present,
            // and use stored values if available, otherwise keep default (0).
            for (const moodKey in moodCounts) {
              if (parsedCounts.hasOwnProperty(moodKey) && typeof parsedCounts[moodKey] === 'number') {
                moodCounts[moodKey] = parsedCounts[moodKey];
              } else {
                moodCounts[moodKey] = 0; // Ensure new emojis are initialized to 0 if not in storage
              }
            }
          } else {
            console.warn("Stored mood counts are not a valid object. Resetting to default.");
            // Keep default moodCounts if stored data is not an object
          }
        } catch (e) {
          console.error("Error parsing mood counts from localStorage:", e);
          // If parsing fails (e.g., malformed JSON), moodCounts remains its default initial value
        }
      }
      // If no stored counts, moodCounts remains its default/initial value
    }


    /**
     * Saves mood counts to localStorage.
     */
    function saveMoodCounts() {
      try {
        localStorage.setItem(MOOD_STORAGE_KEY, JSON.stringify(moodCounts));
      } catch (e) {
        console.error("Error saving mood counts to localStorage:", e);
      }
    }

    /**
     * Initializes mood counters and sets up event listeners.
     */
    function initMoodTally() {
      loadMoodCounts(); // Load counts before updating UI

      // Update initial display of counts
      for (const mood in moodCounts) {
        const moodCountEl = document.getElementById(`mood-count-${mood}`);
        if (moodCountEl) { // Check if element exists before updating
          moodCountEl.textContent = moodCounts[mood];
        }
      }

      // Add click listeners to each mood emoji item
      moodItems.forEach(item => {
        item.addEventListener('click', () => {
          const moodType = item.dataset.mood; // Get mood type from data attribute
          if (moodCounts.hasOwnProperty(moodType)) { // Ensure moodType is valid
            moodCounts[moodType]++; // Increment count
            document.getElementById(`mood-count-${moodType}`).textContent = moodCounts[moodType]; // Update UI
            saveMoodCounts(); // Save updated counts to localStorage

            // Add and remove a class for a short pop animation feedback
            item.classList.add('clicked-effect');
            setTimeout(() => {
              item.classList.remove('clicked-effect');
            }, 200);
          }
        });
      });
    }


    // --- CARD ENTRANCE ANIMATION LOGIC (Intersection Observer) ---
    const cards = document.querySelectorAll('.card');

    // Options for the Intersection Observer
    const observerOptions = {
      root: null, // Use the viewport as the root
      rootMargin: '0px',
      threshold: 0.1 // Trigger when 10% of the item is visible
    };

    // Callback function for when an observed element enters/leaves the viewport
    const cardObserverCallback = (entries, observer) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          // Element is visible, add the 'card-visible' class
          const card = entry.target;
          const index = Array.from(cards).indexOf(card);
          // Set a staggered delay for each card
          card.style.setProperty('--card-delay', `${index * 0.1}s`);
          card.classList.add('card-visible');
          // Stop observing once the animation is triggered
          observer.unobserve(card);
        }
      });
    };

    // Create a new Intersection Observer
    const cardObserver = new IntersectionObserver(cardObserverCallback, observerOptions);

    // --- INITIALIZATION ON PAGE LOAD ---
    document.addEventListener('DOMContentLoaded', () => {
      revealFactBtn.addEventListener('click', revealFunFact); // Attach listener for Hidden Gem
      revealFunFact(); // Display an initial fact on load

      initMoodTally(); // Initialize mood counter (now with persistence)

      // Observe each card for entrance animation
      cards.forEach(card => {
        cardObserver.observe(card);
      });
    });
  </script>
</body>

</html>
