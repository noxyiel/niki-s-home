<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Niki's Humor</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Custom Tailwind Configuration (optional, but good for consistent theming) */
        body {
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
            /* Prevent horizontal scroll */
        }

        /* Custom scrollbar for a softer feel */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #e0f2fe;
            /* Light blue-100 */
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: #93c5fd;
            /* Soft blue-300 */
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #60a5fa;
            /* Medium blue-400 on hover */
        }

        /* General smooth scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Keyframe for subtle button press effect */
        @keyframes subtlePress {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(0.98);
            }

            100% {
                transform: scale(1);
            }
        }

        /* Apply subtlePress animation to buttons */
        .btn-press:active {
            animation: subtlePress 0.15s ease-in-out;
        }

        /* Fade-in for initial content */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in {
            animation: fadeIn 1s ease-out forwards;
        }

        /* Joke question slide-in animation */
        @keyframes slideInFromLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .joke-question-animate {
            animation: slideInFromLeft 0.6s ease-out forwards;
        }

        /* Card flip effect for joke reveal */
        .joke-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s cubic-bezier(0.4, 0.0, 0.2, 1);
            /* Smoother cubic-bezier for flip */
            transform-style: preserve-3d;
            transform-gpu: translateZ(0);
            /* Hardware acceleration */
        }

        .joke-card-flipped .joke-card-inner {
            transform: rotateY(180deg);
        }

        .joke-card-front,
        .joke-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            /* Safari */
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 1.5rem;
            border-radius: 1.5rem;
            /* 24px */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.02);
            /* Softer shadow */
            border: 2px solid;
            transition: all 0.3s ease-in-out;
            /* Smooth transition for hover effects */
        }

        .joke-card-front {
            background-color: #ffffff;
            /* Pure white */
            color: #1e40af;
            /* Blue-700 for good contrast */
            border-color: #dbeafe;
            /* Light blue-200 border */
        }

        .joke-card-back {
            background-color: #eff6ff;
            /* Light blue-50 */
            color: #1e3a8a;
            /* Blue-800 for contrast */
            transform: rotateY(180deg);
            border-color: #bfdbfe;
            /* Medium blue-200 border */
        }

        /* Subtle lift and shadow on joke card container hover */
        #joke-card-container:hover {
            transform: translateY(-8px);
            /* Slightly more lift */
            box-shadow: 0 18px 30px -8px rgba(0, 0, 0, 0.1), 0 8px 12px -4px rgba(0, 0, 0, 0.05);
            /* Larger, softer shadow */
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }

        .shake-animation {
            animation: shake 0.5s cubic-bezier(.36, .07, .19, .97) both;
            transform: translate3d(0, 0, 0);
            backface-visibility: hidden;
            perspective: 1000px;
        }

        @keyframes shake {

            10%,
            90% {
                transform: translate3d(-1px, 0, 0);
            }

            20%,
            80% {
                transform: translate3d(2px, 0, 0);
            }

            30%,
            50%,
            70% {
                transform: translate3d(-4px, 0, 0);
            }

            40%,
            60% {
                transform: translate3d(4px, 0, 0);
            }
        }

        /* Button specific styles */
        .animated-button {
            transition: all 0.3s ease-in-out;
            background-color: #60a5fa;
            /* Blue-400 */
            color: white;
            font-weight: 600;
            padding: 0.85rem 2.25rem;
            /* Slightly larger padding */
            border-radius: 9999px;
            /* Full rounded */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .animated-button:hover {
            background-color: #3b82f6;
            /* Blue-500 */
            transform: translateY(-3px);
            /* More pronounced lift */
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.15);
        }

        .animated-button:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        /* Pulsing icon for header */
        .icon-pulse {
            animation: iconPulse 2s infinite ease-in-out;
            /* Slower pulse */
        }

        @keyframes iconPulse {
            0% {
                transform: scale(1);
                opacity: 0.7;
            }

            50% {
                transform: scale(1.05);
                opacity: 1;
            }

            /* Less extreme scale */
            100% {
                transform: scale(1);
                opacity: 0.7;
            }
        }

        /* Reaction button hover animations */
        .reaction-btn:hover {
            filter: brightness(1.05);
            /* Very subtle brightness */
            transform: scale(1.1);
            /* Slightly smaller scale */
            transition: all 0.2s ease-in-out;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
            /* Add shadow on hover */
        }

        /* Header text shadow for better readability */
        .header-text-shadow {
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.05);
            /* Lighter shadow */
        }
    </style>
</head>

<body class="bg-gradient-to-br from-blue-50 to-green-50 text-gray-800 min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-white shadow-md z-50 rounded-b-xl py-5 px-6 md:px-10 sticky top-0">
        <div class="container mx-auto flex justify-center items-center">
            <h1 class="text-4xl md:text-5xl font-bold text-blue-600 text-center animate-fade-in header-text-shadow">
                Curated for Niki's Humor
            </h1>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow flex items-center justify-center py-16 px-4">
        <section id="joke-section" class="w-full max-w-2xl text-center">
            <div id="joke-card-container" class="relative h-64 md:h-80 perspective-1000 mb-10 animate-fade-in">
                <div id="current-joke-card" class="joke-card-inner">
                    <div class="joke-card-front flex-col justify-center items-center p-6">
                        <p id="joke-question"
                            class="text-3xl md:text-4xl font-semibold mb-6 joke-question-animate leading-tight">
                            Click 'Next Joke' to start the laughter!
                        </p>
                        <i class="fas fa-question-circle text-6xl text-blue-300"></i>
                    </div>
                    <div class="joke-card-back flex-col justify-center items-center p-6">
                        <p id="joke-punchline" class="text-2xl md:text-3xl font-medium leading-relaxed text-center"></p>
                        <i class="fas fa-grin-squint-tears text-6xl text-green-600 mt-4"></i>
                    </div>
                </div>
            </div>

            <div class="flex flex-col md:flex-row justify-center space-y-5 md:space-y-0 md:space-x-8">
                <button id="next-joke-btn" class="animated-button btn-press flex items-center justify-center mx-auto">
                    Next Lame Joke! <i class="fas fa-arrow-right ml-2"></i>
                </button>
                <button id="reveal-punchline-btn"
                    class="animated-button btn-press flex items-center justify-center mx-auto opacity-50 cursor-not-allowed"
                    disabled>
                    Reveal Punchline <i class="fas fa-lightbulb ml-2"></i>
                </button>
            </div>

            <!-- Reaction buttons -->
            <div id="reaction-buttons"
                class="mt-10 flex justify-center space-x-7 text-3xl opacity-0 translate-y-4 transition-all duration-500 ease-out hidden">
                <button
                    class="reaction-btn p-3 rounded-full bg-white shadow-md border border-gray-200 hover:bg-emerald-100 transition-colors duration-200 transform hover:scale-110"
                    data-reaction="üòÇ">üòÇ</button>
                <button
                    class="reaction-btn p-3 rounded-full bg-white shadow-md border border-gray-200 hover:bg-amber-100 transition-colors duration-200 transform hover:scale-110"
                    data-reaction="üòê">üòê</button>
                <button
                    class="reaction-btn p-3 rounded-full bg-white shadow-md border border-gray-200 hover:bg-rose-100 transition-colors duration-200 transform hover:scale-110"
                    data-reaction="ü§¶‚Äç‚ôÄÔ∏è">ü§¶‚Äç‚ôÄÔ∏è</button>
            </div>
            <div id="reaction-message" class="text-md mt-4 text-gray-600 hidden"></div>

        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-200 py-6 mt-12 rounded-t-xl">
        <div class="container mx-auto px-4 text-center text-sm">
            <p>&copy; 2025 Humor centeral. All rights reserved. Designed for Niki's brain.</p>
        </div>
    </footer>

    <script>
        // Array of over 100 lame jokes (Q&A format)
        const jokes = [
            {question: "Why don't scientists trust atoms?", punchline: "Because they make up everything!"},
            {question: "What do you call a fake noodle?", punchline: "An impasta!"},
            {question: "Why did the scarecrow win an award?", punchline: "Because he was outstanding in his field!"},
            {question: "I told my wife she was drawing her eyebrows too high.", punchline: "She looked surprised."},
            {question: "What's orange and sounds like a parrot?", punchline: "A carrot!"},
            {question: "Why did the bicycle fall over?", punchline: "Because it was two tired!"},
            {question: "How do you make a tissue dance?", punchline: "You put a little boogie in it!"},
            {question: "What do you call cheese that isn't yours?", punchline: "Nacho cheese!"},
            {question: "Why did the coffee file a police report?", punchline: "It got mugged!"},
            {question: "What do you call a sad strawberry?", punchline: "A blueberry!"},
            {question: "Why did the math book look sad?", punchline: "Because it had too many problems."},
            {question: "What do you call a sleeping bull?", punchline: "A bulldozer!"},
            {question: "What's brown and sticky?", punchline: "A stick!"},
            {question: "Why can't a bicycle stand on its own?", punchline: "It's two tired!"},
            {question: "What did the ocean say to the sailboat?", punchline: "Nothing, it just waved!"},
            {question: "Why did the invisible man turn down the job offer?", punchline: "He couldn't see himself doing it."},
            {question: "What do you call a bear with no teeth?", punchline: "A gummy bear!"},
            {question: "How do you catch a squirrel?", punchline: "Climb a tree and act like a nut!"},
            {question: "What do you call a lazy kangaroo?", punchline: "Pouch potato!"},
            {question: "Why are ghosts bad liars?", punchline: "Because you can see right through them!"},
            {question: "What did the grape say when it got stepped on?", punchline: "Nothing, it just let out a little wine!"},
            {question: "What do you call a boomerang that won‚Äôt come back?", punchline: "A stick!"},
            {question: "Why don't skeletons fight each other?", punchline: "They don't have the guts!"},
            {question: "What did the traffic light say to the car?", punchline: "Don't look! I'm about to change."},
            {question: "Why did the man get fired from the orange juice factory?", punchline: "He couldn't concentrate!"},
            {question: "How much does a pirate pay for corn?", punchline: "A buck-an-ear!"},
            {question: "What‚Äôs a vampire‚Äôs favorite fruit?", punchline: "A neck-tarine!"},
            {question: "Why did the chicken cross the playground?", punchline: "To get to the other slide!"},
            {question: "What kind of music do planets like?", punchline: "Neptunes!"},
            {question: "What do you call a sad strawberry?", punchline: "A blueberry!"},
            {question: "Why did the tomato turn red?", punchline: "Because it saw the salad dressing!"},
            {question: "What do you call a fly with no wings?", punchline: "A walk!"},
            {question: "Why was the broom late?", punchline: "It over-swept!"},
            {question: "What did the left eye say to the right eye?", punchline: "Between you and me, something smells."},
            {question: "Why did the student eat his homework?", punchline: "Because the teacher said it was a piece of cake!"},
            {question: "How do you know if a vampire is sick?", punchline: "He starts coffin!"},
            {question: "What do you call a belt made of watches?", punchline: "A waist of time!"},
            {question: "Why did the drum go to sleep?", punchline: "Because it was beat!"},
            {question: "What‚Äôs a frog‚Äôs favorite type of music?", punchline: "Hip-hop!"},
            {question: "Why did the donut go to the dentist?", punchline: "He needed a filling!"},
            {question: "What's the best thing about Switzerland?", punchline: "I don't know, but the flag is a big plus."},
            {question: "Why was the computer cold?", punchline: "It left its Windows open!"},
            {question: "What did the zero say to the eight?", punchline: "Nice belt!"},
            {question: "How does a penguin build its house?", punchline: "Igloos it together!"},
            {question: "What do you call a boomerang that won't come back?", punchline: "A stick!"},
            {question: "Why did the baker stop making donuts?", punchline: "He got sick of the hole thing!"},
            {question: "What do you call a snowman with a six-pack?", punchline: "An abdominal snowman!"},
            {question: "Why did the golfer wear two pairs of pants?", punchline: "In case he got a hole in one!"},
            {question: "What did the sea say to the iceberg?", punchline: "Nothing, it just waved."},
            {question: "What do you call a shoe made from a banana?", punchline: "A slipper!"},
            {question: "Why was the calendar always so popular?", punchline: "It had a lot of dates!"},
            {question: "How do you organize a space party?", punchline: "You planet!"},
            {question: "What do you call a pig that does karate?", punchline: "A pork chop!"},
            {question: "What do you get if you cross a snowman with a vampire?", punchline: "Frostbite!"},
            {question: "Why did the teddy bear say no to dessert?", punchline: "Because she was stuffed!"},
            {question: "Why don‚Äôt secrets last long in a cornfield?", punchline: "Because there are too many ears!"},
            {question: "What‚Äôs a witch‚Äôs favorite subject in school?", punchline: "Spelling!"},
            {question: "What do you call a sleeping dinosaur?", punchline: "A dino-snore!"},
            {question: "What‚Äôs a vampire‚Äôs favorite type of coffee?", punchline: "Decoffinated!"},
            {question: "What do you call a fish wearing a bowtie?", punchline: "Sophisti-trout!"},
            {question: "What's a skeleton's favorite instrument?", punchline: "A trom-bone!"},
            {question: "Why did the picture go to jail?", punchline: "Because it was framed!"},
            {question: "What do you call a sad strawberry?", punchline: "A blueberry!"},
            {question: "What's a tree's favorite drink?", punchline: "Root beer!"},
            {question: "What do you call a potato that‚Äôs trying to be cool?", punchline: "A spec-tater!"},
            {question: "Why was the maximum security prison always full?", punchline: "Because it had too many cells!"},
            {question: "What do you call a pile of cats?", punchline: "A meow-tain!"},
            {question: "What do you call a mischievous egg?", punchline: "A practical yolkster!"},
            {question: "Why did the cookie go to the hospital?", punchline: "Because he felt crummy!"},
            {question: "What do you get if you cross a dog with a calculator?", punchline: "A math-ter!"},
            {question: "What did the paper say to the pencil?", punchline: "You‚Äôve got a point!"},
            {question: "Why don't eggs tell jokes?", punchline: "Because they'd crack each other up!"},
            {question: "What do you call a lazy kangaroo?", punchline: "Pouch potato!"},
            {question: "Why did the student get a C on his joke?", punchline: "It was corny!"},
            {question: "How does the moon cut his hair?", punchline: "Eclipse it!"},
            {question: "What do you call a worried strawberry?", punchline: "A straw-b-worry!"},
            {question: "Why did the nurse need a red pen?", punchline: "To draw blood!"},
            {question: "What's a tornado's favorite game?", punchline: "Twister!"},
            {question: "Why are there no knock-knock jokes in the jungle?", punchline: "Because there are too many anacondas!"},
            {question: "What do you call a group of killer whales playing instruments?", punchline: "An orca-stra!"},
            {question: "Why was the broom late?", punchline: "It over-swept!"},
            {question: "What do you call a cow with no legs?", punchline: "Ground beef!"},
            {question: "What did the pirate say on his 80th birthday?", punchline: "Aye matey!"},
            {question: "What do you call a snowman's dog?", punchline: "A slush puppy!"},
            {question: "Why did the invisible man turn down the job offer?", punchline: "He couldn't see himself doing it."},
            {question: "What do you call a dinosaur that is sleeping?", punchline: "Dino-snore!"},
            {question: "What kind of tree fits in your hand?", punchline: "A palm tree!"},
            {question: "What‚Äôs the best way to get a squirrel to like you?", punchline: "Act like a nut!"},
            {question: "Why did the tomato blush?", punchline: "Because it saw the salad dressing!"},
            {question: "What do you call a magic owl?", punchline: "Hoodini!"},
            {question: "Why can't a bicycle stand on its own?", punchline: "It's two tired!"},
            {question: "What do you call a lazy kangaroo?", punchline: "Pouch potato!"},
            {question: "What‚Äôs a pencil‚Äôs favorite type of music?", punchline: "Heavy metal!"},
            {question: "Why did the man get hit by a bike every day?", punchline: "He was in a vicious cycle!"},
            {question: "What do you call a fish with no eyes?", punchline: "Fsh!"},
            {question: "Why did the student eat his homework?", punchline: "Because the teacher said it was a piece of cake!"},
            {question: "What's a vampire's favorite mode of transportation?", punchline: "A blood vessel!"},
            {question: "Why are mummies so bad at keeping secrets?", punchline: "They always spill the beans!"},
            {question: "What do you call an alligator in a vest?", punchline: "An investigator!"},
            {question: "What‚Äôs brown and sounds like a bell?", punchline: "Dung!"},
            {question: "What do you call a snoring dragon?", punchline: "A dragon-fly!"},
            {question: "Why don't scientists trust atoms?", punchline: "Because they make up everything!"},
            {question: "What's a skeleton's least favorite room in the house?", punchline: "The living room!"},
            {question: "What do you call a happy cowboy?", punchline: "A giddy-up!"},
            {question: "What do you call a snowman in the summer?", punchline: "A puddle!"},
            {question: "Why was the math test difficult?", punchline: "Because it had too many problems!"},
            {question: "What do you call a lonely cheese?", punchline: "Provolone!"},
            {question: "Why did the baker quit his job?", punchline: "Because he didn't knead the dough!"},
            {question: "What do you get from a pampered cow?", punchline: "Spoiled milk!"},
            {question: "What's a vampire's favorite fast food?", punchline: "A ghoul-ash!"},
            {question: "Why do we never tell secrets on a farm?", punchline: "Because the potatoes have eyes and the corn has ears!"},
            {question: "What do you call a lazy baby kangaroo?", punchline: "Pouch potato!"},
            {question: "What's a pirate's favorite letter?", punchline: "Rrrrrr!"},
            {question: "Why did the painting go to jail?", punchline: "It was framed!"},
            {question: "What kind of fish performs operations?", punchline: "A Sturgeon!"},
            {question: "Why did the mushroom go to the party?", punchline: "Because he's a fun-gi!"},
            {question: "What's a spider's favorite website?", punchline: "W-W-W.web!"},
            {question: "Why did the man run around his bed?", punchline: "To catch up on his sleep!"},
            {question: "What do you call a sad crayon?", punchline: "A blue crayon!"},
            {question: "What do you call a very tall person in the hospital?", punchline: "A skyscraper!"},
            {question: "What did the full glass say to the empty glass?", punchline: "You look a little down today."},
            {question: "What did the grape do when it got stepped on?", punchline: "It let out a little wine."},
            {question: "What do you call a sleeping dinosaur?", punchline: "Dino-snore!"},
            {question: "Why did the girl cross the road?", punchline: "To get to the other side!"},
            {question: "Why don't you play cards in the jungle?", punchline: "Too many cheetahs!"},
            {question: "What do you call a mischievous egg?", punchline: "A practical yolkster!"},
            {question: "Why did the chef get fired?", punchline: "He couldn't cut the mustard!"},
            {question: "What do you call a sleeping crocodile?", punchline: "A croc-a-doodle-doo!"},
            {question: "What do you get if you cross a dog and a tree?", punchline: "A barking dogwood!"},
            {question: "What do you call a fish with no eyes?", punchline: "Fsh!"},
            {question: "Why did the orange stop in the middle of the road?", punchline: "It ran out of juice!"},
            {question: "What do you call a lazy bull?", punchline: "A bulldozer!"},
            {question: "Why did the broom get a detention?", punchline: "It was sweeping during class!"},
            {question: "What do you call an alligator in a vest?", punchline: "An investigator!"},
            {question: "Why was the musician arrested?", punchline: "For holding a note!"},
            {question: "What's a vampire's favorite building?", punchline: "A blood bank!"},
            {question: "Why did the coffee break up with the sugar?", punchline: "Because he was too sweet!"},
            {question: "What do you call a deaf dog?", punchline: "Doesn't matter, he can't hear you!"},
            {question: "Why was the computer cold?", punchline: "It left its Windows open!"},
            {question: "What did the green grape say to the purple grape?", punchline: "Breathe, man, breathe!"},
            {question: "What do you call a cow that can't moo?", punchline: "A milk dud!"},
            {question: "Why did the banana go to the doctor?", punchline: "Because it wasn't peeling well!"},
            {question: "What do you call a worried lemon?", punchline: "A pucker-up!"},
            {question: "Why did the boy bring a ladder to school?", punchline: "Because he wanted to go to high school!"},
            {question: "What's a vampire's favorite sport?", punchline: "Bat-minton!"},
            {question: "What do you call a magical fish?", punchline: "A rod!"},
            {question: "Why don't you ever see elephants hiding in trees?", punchline: "Because they're so good at it!"},
            {question: "What do you call a sleeping baby? ", punchline: "A baby sleeper!"},
            {question: "What kind of car does a sheep drive?", punchline: "A lamborghini!"},
            {question: "Why did the baker stop making donuts?", punchline: "He got sick of the hole thing!"},
            {question: "What do you call a hot dog on a leash?", punchline: "A pure-bred!"},
            {question: "Why did the girl wear a helmet to the bakery?", punchline: "Because she heard they were having a 'roll' call!"},
            {question: "What did one wall say to the other wall?", punchline: "I'll meet you at the corner!"},
            {question: "What do you call a sad piece of wood?", punchline: "Blue wood!"},
            {question: "Why was the geometry book so sad?", punchline: "Because it had too many problems!"},
            {question: "What's a skeleton's favorite food?", punchline: "Spare ribs!"},
            {question: "Why did the golfer wear two pairs of pants?", punchline: "In case he got a hole in one!"},
            {question: "What do you call a lazy kangaroo?", punchline: "Pouch potato!"},
            {question: "Why was the computer so slow?", punchline: "It had too many windows open!"},
            {question: "What do you call a tired camel?", punchline: "A hump-backed!"},
            {question: "Why did the clock get sent to detention?", punchline: "Because it kept ticking people off!"},
            {question: "What do you call a lonely bird?", punchline: "A robin!"},
            {question: "Why was the belt arrested?", punchline: "For holding up a pair of pants!"},
            {question: "What do you call a snowman with an eight-pack?", punchline: "An abdominal snowman!"},
            {question: "Why was the broom late?", punchline: "It over-swept!"},
            {question: "What do you call a vampire that is always sick?", punchline: "A coffin!"},
            {question: "Why did the student eat his homework?", punchline: "Because the teacher said it was a piece of cake!"}
        ];

        let currentJokeIndex = -1;
        const jokeQuestionEl = document.getElementById('joke-question');
        const jokePunchlineEl = document.getElementById('joke-punchline');
        const nextJokeBtn = document.getElementById('next-joke-btn');
        const revealPunchlineBtn = document.getElementById('reveal-punchline-btn');
        const currentJokeCard = document.getElementById('current-joke-card');
        const jokeCardContainer = document.getElementById('joke-card-container'); // Get the container
        const reactionButtonsDiv = document.getElementById('reaction-buttons');
        const reactionMessageDiv = document.getElementById('reaction-message');

        // Function to play a sound effect (e.g., for punchline reveal)
        function playSound(type) {
            let audio;
            if (type === 'reveal') {
                audio = new Audio('https://www.soundjay.com/buttons/sounds/button-3.mp3'); // Simple click/ding sound
            } else if (type === 'next') {
                audio = new Audio('https://www.soundjay.com/buttons/sounds/button-2.mp3'); // Another simple click
            }
            if (audio) {
                audio.volume = 0.3; // Lower volume for less obtrusiveness
                audio.play().catch(e => console.log("Audio play failed:", e)); // Catch errors if user hasn't interacted yet
            }
        }

        // Function to display a new random joke
        function displayNewJoke() {
            // Remove previous joke's active state if any
            jokeCardContainer.classList.remove('joke-card-flipped'); // Unflip the container for the next joke

            // Disable reveal button initially
            revealPunchlineBtn.disabled = true;
            revealPunchlineBtn.classList.add('opacity-50', 'cursor-not-allowed');

            // Hide reaction buttons and message
            reactionButtonsDiv.classList.add('opacity-0', 'translate-y-4', 'hidden'); // Animate out and hide
            reactionMessageDiv.classList.add('hidden');

            // Get a random joke index
            let newIndex;
            do {
                newIndex = Math.floor(Math.random() * jokes.length);
            } while (newIndex === currentJokeIndex && jokes.length > 1); // Ensure different joke if possible
            currentJokeIndex = newIndex;

            // Update joke question with animation
            jokeQuestionEl.classList.remove('joke-question-animate'); // Reset animation
            void jokeQuestionEl.offsetWidth; // Trigger reflow to restart animation
            jokeQuestionEl.textContent = jokes[currentJokeIndex].question;
            jokePunchlineEl.textContent = jokes[currentJokeIndex].punchline; // Set punchline text immediately

            jokeQuestionEl.classList.add('joke-question-animate'); // Apply animation

            playSound('next'); // Play sound for next joke

            // Enable reveal button after a short delay (for question animation to complete)
            setTimeout(() => {
                revealPunchlineBtn.disabled = false;
                revealPunchlineBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            }, 600);
        }

        // Function to reveal the punchline
        function revealPunchline() {
            jokeCardContainer.classList.add('joke-card-flipped'); // Flip the card container
            revealPunchlineBtn.disabled = true; // Disable after revealing
            revealPunchlineBtn.classList.add('opacity-50', 'cursor-not-allowed');

            // Show reaction buttons with animation after flip
            setTimeout(() => {
                reactionButtonsDiv.classList.remove('hidden');
                reactionButtonsDiv.classList.remove('opacity-0', 'translate-y-4');
                // Ensure a slight re-trigger for the translate animation
                void reactionButtonsDiv.offsetWidth;
                reactionButtonsDiv.classList.add('translate-y-0');
            }, 800); // Allow card flip animation to complete first (0.8s from CSS)

            playSound('reveal'); // Play sound for punchline reveal
        }

        // Add event listeners
        nextJokeBtn.addEventListener('click', displayNewJoke);
        revealPunchlineBtn.addEventListener('click', revealPunchline);

        // Event listener for reaction buttons
        reactionButtonsDiv.addEventListener('click', (e) => {
            if (e.target.classList.contains('reaction-btn')) {
                const reaction = e.target.dataset.reaction;
                reactionMessageDiv.textContent = `You reacted: ${reaction}!`;
                reactionMessageDiv.classList.remove('hidden');
                e.target.classList.add('shake-animation'); // Add shake animation
                setTimeout(() => {
                    e.target.classList.remove('shake-animation'); // Remove after animation
                }, 500); // Match shake duration
            }
        });

        // Initial joke load when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            displayNewJoke();
        });
    </script>
</body>

</html>
